<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOYOTA L&F | KIVA æ··åˆå¼è¨“ç·´ç³»çµ±DEMO</title>
    <!-- å¼•å…¥ Font Awesome 6.4.0 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        /* --- 1. å…¨å±€è¨­å®š (Toyota é¢¨æ ¼) --- */
        :root {
            --toyota-red: #EB0A1E;
            --toyota-dark-red: #B80012;
            --toyota-black: #000000;
            --toyota-gray: #333333;
            --bg-light: #F4F4F4;
            --white: #FFFFFF;
            --section-basic: #4CAF50;
            --section-core: #2196F3;
            --section-assess: #FF9800;
            --section-debug: #EB0A1E;
        }

        body {
            font-family: "Microsoft JhengHei", "Noto Sans TC", sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-light);
            color: var(--toyota-black);
        }

        /* --- 2. å°èˆªåˆ— --- */
        header {
            background-color: var(--toyota-black);
            color: var(--white);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo { font-size: 1.2rem; font-weight: bold; display: flex; align-items: center; gap: 10px; }
        .logo span { color: var(--toyota-red); }
        .user-status { font-size: 0.9rem; color: #ccc; }

        /* --- 3. é¦–é ï¼šèº«ä»½é¸æ“‡å€ --- */
        #role-selection-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 90vh;
            padding: 20px;
            text-align: center;
            background: linear-gradient(135deg, #fff 0%, #f0f0f0 100%);
        }

        .role-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            max-width: 900px;
            width: 100%;
            margin-top: 40px;
        }

        .role-card {
            background: var(--white);
            padding: 30px 20px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border-top: 5px solid transparent;
            position: relative;
            overflow: hidden;
        }
        .role-card:hover { transform: translateY(-5px); border-top-color: var(--toyota-red); }
        
        /* Icon æ¨£å¼èª¿æ•´ */
        .role-icon { 
            font-size: 3.5rem; 
            color: var(--toyota-gray); 
            margin-bottom: 15px; 
            transition: color 0.3s;
        }
        .role-card:hover .role-icon { color: var(--toyota-red); }

        .role-title { font-size: 1.2rem; font-weight: bold; color: #333; }
        .role-desc { font-size: 0.9rem; color: #666; margin-top: 5px; }

        /* --- 4. ä¸»å„€è¡¨æ¿ (å››å¤§å€å¡Š) --- */
        #dashboard-screen {
            display: none;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .dashboard-header {
            margin-bottom: 20px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .back-btn { background: none; border: 1px solid #ccc; padding: 5px 10px; border-radius: 5px; cursor: pointer; color: #666; }

        .four-pillars-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
        }
        @media (max-width: 768px) { .four-pillars-grid { grid-template-columns: 1fr; } }

        .pillar-card {
            background: var(--white);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            cursor: pointer;
            display: flex;
            flex-direction: column;
        }
        .pillar-card:hover { transform: scale(1.02); }

        .pillar-header {
            padding: 20px;
            color: white;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .pillar-header h3 { margin: 0; font-size: 1.5rem; }
        .pillar-icon { font-size: 2rem; opacity: 0.9; }
        
        .pillar-body { padding: 20px; flex-grow: 1; }
        .pillar-body p { color: #666; font-size: 0.95rem; line-height: 1.5; margin: 0; }
        .pillar-tags { margin-top: 15px; }
        .tag { display: inline-block; padding: 3px 8px; border-radius: 4px; font-size: 0.8rem; background: #eee; color: #555; margin-right: 5px; }

        .p-basic .pillar-header { background: var(--section-basic); }
        .p-core .pillar-header { background: var(--section-core); }
        .p-assess .pillar-header { background: var(--section-assess); }
        .p-debug .pillar-header { background: var(--section-debug); }

        /* --- 5. å…§å®¹æ¨¡æ…‹è¦–çª— --- */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); z-index: 2000; justify-content: center; align-items: center;
        }
        .modal-content {
            background: #fff; width: 95%; max-width: 1000px; height: 90vh;
            border-radius: 10px; overflow-y: auto; position: relative;
            display: flex; flex-direction: column;
        }
        .modal-header {
            background: var(--toyota-black); color: white; padding: 15px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .modal-body { padding: 20px; flex-grow: 1; overflow-y: auto; }
        .close-modal { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; }

        /* --- é€²åº¦æ¢æ¨£å¼ --- */
        .progress-wrapper {
            margin-bottom: 20px;
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .progress-info {
            display: flex; justify-content: space-between; font-size: 0.9rem; font-weight: bold; margin-bottom: 5px; color: #555;
        }
        .progress-bar-bg {
            width: 100%; height: 12px; background: #e0e0e0; border-radius: 6px; overflow: hidden;
        }
        .progress-bar-fill {
            height: 100%; width: 0%; background: var(--toyota-red); transition: width 0.5s ease;
        }
        
        /* --- é¡Œç›®èˆ‡æŒ‰éˆ•æ¨£å¼ --- */
        .basic-layout { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; height: 100%; }
        @media (max-width: 768px) { .basic-layout { grid-template-columns: 1fr; } }
        
        .video-placeholder {
            background: #000; color: white; display: flex; align-items: center; justify-content: center;
            height: 300px; border-radius: 8px; position: relative;
        }
        .quiz-container { background: #f9f9f9; padding: 20px; border-radius: 8px; height: 100%; overflow-y: auto; }
        
        /* é¡Œç›®å¡ç‰‡ */
        .tf-question { margin-bottom: 20px; border-bottom: 1px solid #ddd; padding-bottom: 15px; display: none; animation: fadeIn 0.5s; }
        .tf-question.active { display: block; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .tf-options button {
            padding: 10px 25px; margin-right: 10px; border: 1px solid #ccc; border-radius: 25px; cursor: pointer; background: white;
            font-size: 1rem; transition: all 0.2s;
        }
        .tf-options button:hover { background: #f0f0f0; }
        
        .tf-explanation {
            display: none; margin-top: 15px; padding: 15px; background: #e8f5e9; 
            border-left: 4px solid #4CAF50; font-size: 0.95rem; color: #333; border-radius: 4px;
        }

        .next-q-btn {
            margin-top: 15px; padding: 10px 20px; background: var(--toyota-red); color: white;
            border: none; border-radius: 5px; cursor: pointer; font-weight: bold; display: none;
        }
        .next-q-btn:hover { background: #c40010; }
        
        .next-stage-btn {
            margin-top: 15px; padding: 12px 30px; background: var(--section-core); color: white;
            border: none; border-radius: 30px; cursor: pointer; font-weight: bold; display: none;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); width: 100%;
        }
        .next-stage-btn:hover { background: #1976D2; transform: scale(1.02); }

        /* æ ¸å¿ƒã€è©•é‡ã€æ’éŒ¯æ¨£å¼ */
        .interactive-video-container { width: 100%; max-width: 800px; margin: 0 auto; position: relative; }
        .video-timeline { height: 10px; background: #ddd; margin-top: 10px; position: relative; border-radius: 5px; }
        .video-progress { width: 40%; height: 100%; background: var(--toyota-red); border-radius: 5px; }
        .question-marker { width: 14px; height: 14px; background: orange; border-radius: 50%; position: absolute; top: -2px; left: 40%; cursor: pointer; border: 2px solid white; box-shadow: 0 0 5px rgba(0,0,0,0.5); }
        .popup-quiz { position: absolute; top: 20%; left: 10%; right: 10%; background: rgba(255,255,255,0.95); padding: 20px; border-radius: 8px; box-shadow: 0 5px 20px rgba(0,0,0,0.3); text-align: center; border-top: 5px solid var(--toyota-red); }
        .scene-box { width: 100%; height: 400px; background: #ddd; position: relative; background-image: url('https://placehold.co/800x400/333/999?text=KIVA+Working+Zone'); background-size: cover; border-radius: 8px; }
        .hazard-spot { width: 50px; height: 50px; border: 2px dashed yellow; position: absolute; bottom: 20px; right: 30%; cursor: pointer; background: rgba(255,255,0,0.2); }
        .troubleshoot-screen { background: #222; color: #0f0; padding: 30px; font-family: 'Courier New', monospace; height: 350px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        .error-alert { border: 2px solid red; color: red; padding: 20px; margin-bottom: 20px; animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0.5; } }
        .ts-options button { background: #444; color: white; border: 1px solid #666; padding: 10px 20px; margin: 5px; cursor: pointer; font-family: inherit; }
        .ts-options button:hover { background: #666; }

    </style>
</head>
<body>

    <!-- 1. Header -->
    <header>
        <div class="logo">
            <i class="fas fa-cubes"></i>
            TOYOTA L&F <span>KIVA æ··åˆå¼è¨“ç·´ç³»çµ±DEMO</span>
        </div>
        <div class="user-status" id="user-role-display">å°šæœªç™»å…¥</div>
    </header>

    <!-- 2. èº«ä»½é¸æ“‡ (Role Selection) -->
    <div id="role-selection-screen">
        <h1 style="font-size: 2rem; margin-bottom: 10px;">è«‹é¸æ“‡æ‚¨çš„æ“ä½œèº«ä»½</h1>
        <p style="color: #666;">ç³»çµ±å°‡æ ¹æ“šæ‚¨çš„è·è²¬è¼‰å…¥å°æ‡‰çš„æ•™ææ¨¡çµ„</p>

        <div class="role-grid">
            <!-- A. å» æˆ¿ä½œæ¥­å“¡ (æ›´æ–°ç‚ºæ¨™æº–å·¥å®‰å®‰å…¨å¸½åœ–ç¤º) -->
            <div class="role-card" onclick="enterDashboard('ä½œæ¥­å“¡')">
                <div class="role-icon">
                    <!-- ä¿®æ­£ï¼šä½¿ç”¨æ¨™æº–å…è²»åœ–ç¤º fa-helmet-safety -->
                    <i class="fas fa-helmet-safety"></i>
                </div>
                <div class="role-title">å» æˆ¿ä½œæ¥­å“¡</div>
                <div class="role-desc">B2B ç¾å ´æ“ä½œäººå“¡</div>
            </div>

            <!-- B. ç¶­ä¿®å·¥ç¨‹å¸« -->
            <div class="role-card" onclick="enterDashboard('å·¥ç¨‹å¸«')">
                <div class="role-icon"><i class="fas fa-tools"></i></div>
                <div class="role-title">ç¶­ä¿®å·¥ç¨‹å¸«</div>
                <div class="role-desc">æŠ€è¡“æ”¯æ´èˆ‡ç¶­è­·</div>
            </div>

            <!-- C. ç®¡ç†äººå“¡ -->
            <div class="role-card" onclick="enterDashboard('ç®¡ç†è€…')">
                <div class="role-icon"><i class="fas fa-user-tie"></i></div>
                <div class="role-title">ç®¡ç†äººå“¡</div>
                <div class="role-desc">æ•¸æ“šèˆ‡æˆæ•ˆè¿½è¹¤</div>
            </div>
        </div>
    </div>

    <!-- 3. ä¸»å„€è¡¨æ¿ (å››å¤§å€å¡Š) -->
    <div id="dashboard-screen">
        <div class="dashboard-header">
            <div>
                <h2 id="dashboard-title">ä½œæ¥­å“¡è¨“ç·´ä¸­å¿ƒ</h2>
                <p>è«‹ä¾åºå®Œæˆä»¥ä¸‹å­¸ç¿’éšæ®µ</p>
            </div>
            <button class="back-btn" onclick="location.reload()">ç™»å‡º</button>
        </div>

        <div class="four-pillars-grid">
            
            <!-- A. åŸºç¤éšæ®µ -->
            <div class="pillar-card p-basic" onclick="openContent('basic')">
                <div class="pillar-header">
                    <div class="pillar-icon"><i class="fas fa-shield-alt"></i></div>
                    <h3>1. åŸºç¤èªçŸ¥</h3>
                </div>
                <div class="pillar-body">
                    <p>å·¥å®‰è¦ç¯„ã€ç’°å¢ƒè­˜åˆ¥èˆ‡è¨­å‚™åŸºç¤æ§‹é€ ã€‚</p>
                    <div class="pillar-tags">
                        <span class="tag">#å·¥å®‰</span> <span class="tag">#æ˜¯éé¡Œè©³è§£</span>
                    </div>
                </div>
            </div>

            <!-- B. æ ¸å¿ƒéšæ®µ -->
            <div class="pillar-card p-core" onclick="openContent('core')">
                <div class="pillar-header">
                    <div class="pillar-icon"><i class="fas fa-play-circle"></i></div>
                    <h3>2. æ ¸å¿ƒ SOP</h3>
                </div>
                <div class="pillar-body">
                    <p>æ¨™æº–æ“ä½œæµç¨‹å¾®èª²ç¨‹ã€‚å½±ç‰‡ç©¿æ’äº’å‹•æ¸¬é©—ã€‚</p>
                    <div class="pillar-tags">
                        <span class="tag">#äº’å‹•å½±ç‰‡</span> <span class="tag">#SOPæµç¨‹</span>
                    </div>
                </div>
            </div>

            <!-- C. è©•é‡éšæ®µ -->
            <div class="pillar-card p-assess" onclick="openContent('assess')">
                <div class="pillar-header">
                    <div class="pillar-icon"><i class="fas fa-clipboard-check"></i></div>
                    <h3>3. ç¶œåˆè©•é‡</h3>
                </div>
                <div class="pillar-body">
                    <p>æ¨¡æ“¬å¯¦éš›çªç™¼ç‹€æ³ï¼Œæ¸¬è©¦æ±ºç­–èƒ½åŠ›ã€‚</p>
                    <div class="pillar-tags">
                        <span class="tag">#æƒ…å¢ƒæ¨¡æ“¬</span> <span class="tag">#æ±ºç­–æ¨¹</span>
                    </div>
                </div>
            </div>

            <!-- D. å¿«é€Ÿæ’éŒ¯ -->
            <div class="pillar-card p-debug" onclick="openContent('debug')">
                <div class="pillar-header">
                    <div class="pillar-icon"><i class="fas fa-first-aid"></i></div>
                    <h3>4. å¿«é€Ÿæ’éŒ¯</h3>
                </div>
                <div class="pillar-body">
                    <p>ç¾å ´æ•…éšœä»£ç¢¼æŸ¥è©¢èˆ‡ç·Šæ€¥è™•ç½®æŒ‡å—ã€‚</p>
                    <div class="pillar-tags">
                        <span class="tag">#æ•…éšœä»£ç¢¼</span> <span class="tag">#å³æ™‚æ•‘æ´</span>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- 4. å…§å®¹æ¨¡æ…‹è¦–çª— -->
    <div id="content-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title" style="margin:0">å–®å…ƒåç¨±</h3>
                <button class="close-modal" onclick="closeModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- å…§å®¹å‹•æ…‹æ³¨å…¥ -->
            </div>
        </div>
    </div>

    <script>
        // --- 1. å°èˆªé‚è¼¯ ---
        function enterDashboard(role) {
            document.getElementById('role-selection-screen').style.display = 'none';
            document.getElementById('dashboard-screen').style.display = 'block';
            document.getElementById('user-role-display').innerText = role;
            document.getElementById('dashboard-title').innerText = role + ' è¨“ç·´ä¸­å¿ƒ';
        }

        function closeModal() {
            document.getElementById('content-modal').style.display = 'none';
        }

        // --- 2. å…§å®¹æ¸²æŸ“é‚è¼¯ ---
        function openContent(type) {
            const modal = document.getElementById('content-modal');
            const body = document.getElementById('modal-body');
            const title = document.getElementById('modal-title');
            
            modal.style.display = 'flex';
            body.innerHTML = ''; // æ¸…ç©º

            if (type === 'basic') renderBasic(title, body);
            else if (type === 'core') renderCore(title, body);
            else if (type === 'assess') renderAssess(title, body);
            else if (type === 'debug') renderDebug(title, body);
        }

        // --- A. åŸºç¤éšæ®µ (å½±ç‰‡ + æ­¥é©Ÿå¼æ˜¯éé¡Œ + é€²åº¦æ¢) ---
        // å…¨åŸŸè®Šæ•¸è¿½è¹¤é€²åº¦
        let basicQIndex = 0;
        
        function renderBasic(titleEl, container) {
            titleEl.innerText = "ã€åŸºç¤ã€‘å·¥å®‰èˆ‡è¨­å‚™èªè­˜";
            basicQIndex = 0; // é‡ç½®

            container.innerHTML = `
                <div class="basic-layout">
                    <div>
                        <h4>å–®å…ƒå°è®€å½±ç‰‡</h4>
                        <div class="video-placeholder">
                            <i class="fas fa-video" style="font-size:3rem;"></i>
                            <p style="margin-top:10px;">(æ­¤è™•æ’­æ”¾å·¥å®‰è§€å¿µå½±ç‰‡)</p>
                        </div>
                    </div>
                    <div class="quiz-container">
                        <!-- é€²åº¦æ¢ -->
                        <div class="progress-wrapper">
                            <div class="progress-info">
                                <span>å­¸ç¿’é€²åº¦</span>
                                <span id="basic-progress-text">0/2</span>
                            </div>
                            <div class="progress-bar-bg">
                                <div class="progress-bar-fill" id="basic-progress-fill" style="width: 0%"></div>
                            </div>
                        </div>

                        <h4 style="margin-top:0;">å¿«é€Ÿè‡ªæˆ‘æª¢æ¸¬</h4>
                        <p style="font-size:0.9rem; color:#666;">è«‹ä¾åºå›ç­”ä¸‹åˆ—å•é¡Œï¼š</p>
                        
                        <!-- é¡Œç›® 1 -->
                        <div id="bq-1" class="tf-question active">
                            <p><strong>Q1.</strong> é€²å…¥ KIVA ä½œæ¥­å€å‰ï¼Œåªè¦ç©¿è‘—åå…‰èƒŒå¿ƒå³å¯ï¼Œä¸éœ€è¦ç¢ºèªæ©Ÿå°æ˜¯å¦æ–·é›»ï¼Ÿ</p>
                            <div class="tf-options">
                                <button onclick="handleBasicAnswer(this, false, 1)">O (æ˜¯)</button>
                                <button onclick="handleBasicAnswer(this, true, 1)">X (å¦)</button>
                            </div>
                            <div class="tf-explanation">
                                <strong>ğŸ’¡ è©³è§£ï¼š</strong> éŒ¯èª¤ã€‚é€²å…¥ç´…å€å‰ï¼Œé™¤äº†ç©¿æˆ´é˜²è­·è£å‚™ï¼Œ<strong>å¿…é ˆ</strong>ç¢ºèªè©²å€æ®µæ©Ÿå°å·²æŒ‰ä¸‹ç·Šæ€¥åœæ­¢æˆ–æ–·é›»ï¼Œä»¥å…ç™¼ç”Ÿå¤¾å‚·æ„å¤–ã€‚
                                <button class="next-q-btn" onclick="nextBasicQ(2)">ä¸‹ä¸€é¡Œ <i class="fas fa-arrow-down"></i></button>
                            </div>
                        </div>

                         <!-- é¡Œç›® 2 -->
                        <div id="bq-2" class="tf-question">
                            <p><strong>Q2.</strong> ç™¼ç¾åœ°ä¸Šæœ‰æ²¹æ¼¬æ™‚ï¼Œç‚ºäº†æ•ˆç‡å¯ä»¥å…ˆè·¨éå»ï¼Œç­‰ä¸‹ç­å†æ¸…ï¼Ÿ</p>
                            <div class="tf-options">
                                <button onclick="handleBasicAnswer(this, false, 2)">O (æ˜¯)</button>
                                <button onclick="handleBasicAnswer(this, true, 2)">X (å¦)</button>
                            </div>
                            <div class="tf-explanation">
                                <strong>ğŸ’¡ è©³è§£ï¼š</strong> éŒ¯èª¤ã€‚KIVA è¼ªèƒæ²¾æŸ“æ²¹æ¼¬æœƒå°è‡´æ‰“æ»‘è¿·èˆªï¼Œç”šè‡³é€ æˆç¢°æ’ã€‚æ‡‰<strong>ç«‹å³æš«åœä½œæ¥­</strong>ä¸¦ä¾æ¸…æ½” SOP è™•ç†ã€‚
                                <button class="next-stage-btn" onclick="openContent('core')">å®Œæˆå–®å…ƒï¼Œå‰å¾€æ ¸å¿ƒ SOP <i class="fas fa-arrow-right"></i></button>
                            </div>
                        </div>

                    </div>
                </div>
            `;
        }
        
        // è™•ç†å›ç­”èˆ‡é¡¯ç¤ºä¸‹ä¸€é¡Œé‚è¼¯
        window.handleBasicAnswer = function(btn, isCorrect, qIndex) {
            const parent = btn.parentElement;
            const buttons = parent.getElementsByTagName('button');
            for(let b of buttons) {
                b.style.opacity = '0.5';
                b.disabled = true;
            }
            btn.style.opacity = '1';
            btn.style.background = isCorrect ? '#d4edda' : '#f8d7da';
            btn.style.borderColor = isCorrect ? 'green' : 'red';
            
            const exp = parent.nextElementSibling;
            exp.style.display = 'block';
            
            // é¡¯ç¤ºè©²é¡Œçš„ã€Œä¸‹ä¸€é¡Œ/ä¸‹ä¸€é—œã€æŒ‰éˆ•
            const nextBtn = exp.querySelector('button');
            if(nextBtn) nextBtn.style.display = 'inline-block';

            // æ›´æ–°é€²åº¦æ¢
            updateBasicProgress(qIndex);
        }

        window.nextBasicQ = function(nextQIndex) {
            document.getElementById('bq-' + (nextQIndex - 1)).style.display = 'none';
            const nextQ = document.getElementById('bq-' + nextQIndex);
            nextQ.classList.add('active');
        }

        function updateBasicProgress(qIndex) {
            const total = 2;
            const pct = (qIndex / total) * 100;
            document.getElementById('basic-progress-fill').style.width = pct + '%';
            document.getElementById('basic-progress-text').innerText = `${qIndex}/${total}`;
        }

        // --- B. æ ¸å¿ƒéšæ®µ ---
        function renderCore(titleEl, container) {
            titleEl.innerText = "ã€æ ¸å¿ƒã€‘é›»æ± æ›´æ› SOP (äº’å‹•å½±ç‰‡)";
            container.innerHTML = `
                <div class="interactive-video-container">
                    <div class="video-placeholder" style="height:400px; background:#222;">
                        <i class="fas fa-play" style="font-size:3rem; color:white;"></i>
                        <div class="popup-quiz">
                            <h4 style="color:#EB0A1E; margin-top:0;">ğŸ›‘ çŸ¥è­˜æª¢æŸ¥é»</h4>
                            <p style="color:#666;">åœ¨æ‹”é™¤é›»æ± é€£æ¥ç·šä¹‹å‰ï¼Œæ‡‰è©²å…ˆåšä»€éº¼å‹•ä½œï¼Ÿ</p>
                            <div style="display:grid; gap:10px; margin-top:15px;">
                                <button style="padding:10px; cursor:pointer;" onclick="alert('ç­”éŒ¯å›‰ï¼è«‹é‡çœ‹ 01:20 è™•')">A. ç›´æ¥ç”¨åŠ›æ‹”é™¤</button>
                                <button style="padding:10px; cursor:pointer;" onclick="alert('æ­£ç¢ºï¼æ–·è·¯å™¨èƒ½ä¿è­·é›»è·¯å®‰å…¨ã€‚')">B. é—œé–‰é›»æ± æ¨¡çµ„ä¸Šçš„æ–·è·¯å™¨ (Breaker)</button>
                                <button style="padding:10px; cursor:pointer;" onclick="alert('ç­”éŒ¯å›‰ï¼')">C. é€šçŸ¥ä¸»ç®¡</button>
                            </div>
                        </div>
                    </div>
                    <div class="video-timeline">
                        <div class="video-progress"></div>
                        <div class="question-marker" title="æ¸¬é©—é»"></div>
                    </div>
                    <div style="margin-top:15px; display:flex; justify-content:space-between; color:#666; font-size:0.9rem;">
                        <span>01:45 / 03:30</span>
                        <span><i class="fas fa-volume-up"></i> <i class="fas fa-expand"></i></span>
                    </div>
                </div>
                <div style="margin-top:20px; padding:15px; background:#f0f0f0; border-radius:8px;">
                    <h4>æœ¬å–®å…ƒå­¸ç¿’é‡é»ï¼š</h4>
                    <ul>
                        <li>æ–·é›»ç¨‹åºçš„æ­£ç¢ºé †åº</li>
                        <li>é›»æ± æ¨¡çµ„çš„æ¬é‹å§¿å‹¢ (é˜²è…°å‚·)</li>
                        <li>æ¥é ­æ­¸ä½ç¢ºèª</li>
                    </ul>
                </div>
            `;
        }

        // --- C. è©•é‡éšæ®µ ---
        function renderAssess(titleEl, container) {
            titleEl.innerText = "ã€è©•é‡ã€‘çªç™¼ç‹€æ³ç¶œåˆæ¸¬é©—";
            container.innerHTML = `
                <div style="text-align:center; margin-bottom:20px;">
                    <p>è«‹è§€å¯Ÿä¸‹æ–¹æ¨¡æ“¬ç•«é¢ï¼Œæ‰¾å‡º<strong>ç•°å¸¸ç‹€æ³</strong>ä¸¦é»æ“Šé€²è¡Œè™•ç½®ã€‚</p>
                </div>
                <div class="scene-box">
                    <div class="hazard-spot" onclick="alert('âœ… åˆ¤æ–·æ­£ç¢ºï¼\\n\\nç™¼ç¾ç•°ç‰©å…¥ä¾µè»Œé“ã€‚\\næ­£ç¢ºè™•ç½®ï¼š\\n1. æŒ‰ä¸‹æ€¥åœéˆ•\\n2. ç§»é™¤ç•°ç‰©\\n3. ç¢ºèªç„¡æå¾Œå¾©æ­¸')"></div>
                    <div style="position:absolute; bottom:10px; left:10px; color:white; background:rgba(0,0,0,0.5); padding:5px;">
                        <i class="fas fa-camera"></i> ç¾å ´ç›£æ§è¦–è§’ Cam-03
                    </div>
                </div>
                <div style="margin-top:20px; display:flex; gap:10px; justify-content:center;">
                    <button class="back-btn" style="background:#EB0A1E; color:white; border:none; padding:10px 30px;">æäº¤æ±ºç­–</button>
                </div>
            `;
        }

        // --- D. å¿«é€Ÿæ’éŒ¯ ---
        function renderDebug(titleEl, container) {
            titleEl.innerText = "ã€æ’éŒ¯ã€‘ç¾å ´ä»£ç¢¼é€ŸæŸ¥";
            container.innerHTML = `
                <div style="max-width:600px; margin:0 auto;">
                    <input type="text" placeholder="è¼¸å…¥éŒ¯èª¤ä»£ç¢¼ (ä¾‹: 1348)..." style="width:100%; padding:15px; font-size:1.1rem; margin-bottom:20px; border:2px solid #ccc; border-radius:8px;">
                    <div style="background:#f9f9f9; border-left:5px solid #EB0A1E; padding:15px; margin-bottom:10px;">
                        <h4 style="margin:0 0 5px 0;">ğŸ”´ Error 1348: Position Lost (è¿·èˆª)</h4>
                        <p style="margin:0; font-size:0.9rem; color:#666;">åŸå› ï¼šWi-Fi è¨Šè™Ÿç¬æ–·æˆ–è¼ªèƒæ‰“æ»‘ã€‚</p>
                        <div style="margin-top:10px;">
                            <button style="background:#333; color:white; border:none; padding:5px 10px; cursor:pointer;">æŸ¥çœ‹æ’é™¤æ­¥é©Ÿ</button>
                        </div>
                    </div>
                    <div style="background:#f9f9f9; border-left:5px solid #FF9800; padding:15px; margin-bottom:10px;">
                        <h4 style="margin:0 0 5px 0;">ğŸŸ  Error 201: Low Battery (ä½é›»é‡)</h4>
                        <p style="margin:0; font-size:0.9rem; color:#666;">åŸå› ï¼šæœªè‡ªå‹•è¿”å›å……é›»æ¨ã€‚</p>
                    </div>
                </div>
            `;
        }

    </script>
</body>
</html>